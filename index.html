<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ritual Community</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* === CENTERED BANNER (1350√ó100, –ø–æ —Ü–µ–Ω—Ç—Ä—É, –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π, –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É) === */
        .centered-banner {
          width: 100%;
          height: 100px; /* –≤—ã—Å–æ—Ç–∞ 100px */
          position: sticky;
          top: 0;
          z-index: 1000; /* –í—ã—Å–æ–∫–∏–π z-index, —á—Ç–æ–±—ã –±–∞–Ω–Ω–µ—Ä –±—ã–ª –ø–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
          display: flex;
          justify-content: center; /* —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
          align-items: center;     /* —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
          background: #0d1117; /* —Ñ–æ–Ω, –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è */
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .banner-link {
          display: block;
          width: 1350px;   /* —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è */
          height: 100px;   /* —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
          background: url("https://i.yapx.ru/cInFv.png") no-repeat center center; /* <-- –°–°–´–õ–ö–ê –ù–ê –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ï –ë–ê–ù–ù–ï–†–ê */
          background-size: 1350px 100px; /* —Ç–æ—á–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è */
          cursor: pointer; /* –ö—É—Ä—Å–æ—Ä —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–ª–∏–∫–∞ */
        }

        /* === WELCOME SECTION (–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Ä–∞–º–∫–∞ —Å –æ–±–≤–æ–¥–∫–æ–π) === */
        .welcome-section {
          /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
          text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
          margin: 20px auto 10px auto; /* –í–Ω–µ—à–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã: –≤–µ—Ä—Ö, –≥–æ—Ä–∏–∑. —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–∏–∑ (—É–º–µ–Ω—å—à–µ–Ω–æ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è .team-box –Ω–∏–∂–µ) */
          padding: 25px 30px; /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
          max-width: 800px; /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */

          /* –°—Ç–∏–ª–∏ —Ä–∞–º–∫–∏-—Ü–∏—Ç–∞—Ç—ã */
          background-color: transparent; /* –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
          border: 2px solid #2F4F4F; /* –û–±–≤–æ–¥–∫–∞ —Ü–≤–µ—Ç–∞ #2F4F4F */
          border-radius: 5px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —É–≥–ª–æ–≤ */
          box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* –¢–µ–Ω—å */

          /* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–ª–æ–∏ */
          position: relative; /* –î–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç–∞ */
          z-index: 0; /* –£—Å—Ç–∞–Ω–æ–≤–∏–º –±–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å */

          /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */
          color: #333; /* –¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
        }

        /* –ü—Å–µ–≤–¥–æ—ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –∏–ª–∏ —Ç–µ–Ω–µ–π */
        .welcome-section::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          /* –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—ã–µ) */
          /* background-image: url('image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" x="50" font-size="80" text-anchor="middle" fill="black" opacity="0.05">‚ú¶‚úß‚ú¶‚úß</text></svg>'); */
          background-repeat: repeat;
          background-size: 100px;
          pointer-events: none; /* –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–∫–∞—Ç—å —Å–∫–≤–æ–∑—å –Ω–µ–≥–æ */
          z-index: -1; /* –ü–æ–º–µ—â–∞–µ—Ç –µ–≥–æ –ø–æ–∑–∞–¥–∏ —Ç–µ–∫—Å—Ç–∞ */
          border-radius: 5px; /* –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–∫—Ä—É–≥–ª–µ–Ω–∏—é –±–ª–æ–∫–∞ */
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ –≤–Ω—É—Ç—Ä–∏ .welcome-section */
        .welcome-section h1 {
          color: #2F4F4F; /* –¶–≤–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
          text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
          margin-top: 0; /* –£–±–∏—Ä–∞–µ–º –≤–µ—Ä—Ö–Ω–∏–π –æ—Ç—Å—Ç—É–ø */
          margin-bottom: 15px; /* –û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
          font-size: 1.8em; /* –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤ –≤–Ω—É—Ç—Ä–∏ .welcome-section */
        .welcome-section p {
          margin: 8px 0; /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞–º–∏ */
          line-height: 1.5; /* –í—ã—Å–æ—Ç–∞ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
          font-size: 1em; /* –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Å—ã–ª–æ–∫ –≤–Ω—É—Ç—Ä–∏ .welcome-section */
        .welcome-section a {
          color: #0066cc; /* –¶–≤–µ—Ç —Å—Å—ã–ª–∫–∏ */
          text-decoration: underline; /* –ü–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ */
        }

        .welcome-section a:hover {
          color: #0052a3; /* –¶–≤–µ—Ç —Å—Å—ã–ª–∫–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è .team-box (–≤—ã–Ω–µ—Å–µ–Ω –∑–∞ –ø—Ä–µ–¥–µ–ª—ã .welcome-section) */
        .team-box {
          margin: 10px auto; /* –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –∏ —Å–Ω–∏–∑—É, —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
          padding: 10px 15px; /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
          background-color: #2F4F4F; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ */
          border-radius: 5px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤ */
          text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
          color: #fff; /* –ë–µ–ª—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */
          display: inline-block; /* –ß—Ç–æ–±—ã —à–∏—Ä–∏–Ω–∞ –±—ã–ª–∞ –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É */
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Å—ã–ª–∫–∏ –≤–Ω—É—Ç—Ä–∏ .team-box */
        .team-box a {
          color: #fff; /* –ë–µ–ª—ã–π —Ü–≤–µ—Ç —Å—Å—ã–ª–∫–∏ */
          text-decoration: underline; /* –ü–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ */
        }

        .team-box a:hover {
          color: #a9ddd3; /* –¶–≤–µ—Ç —Å—Å—ã–ª–∫–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }
    </style>
</head>
<body>
    <!-- === BANNER (—Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É) === -->
    <div class="centered-banner">
        <a href="javascript:location.reload()" class="banner-link"></a>
    </div>

    <div class="background"></div>

    <!-- –£–ë–†–ê–ù: <div class="header-fixed"> <h1>Ritual Community</h1> </div> -->

    <div class="container">
        <!-- === WELCOME SECTION === -->
        <div class="welcome-section">
            <h1>WELCOME RITUALISTS!</h1>
            <p>This leaderboard is generated based on all posts in the <a href="https://x.com/i/communities/1896991026272723220" target="_blank">Ritual Community</a>.</p>
            <p>If your posts are not published through <a href="https://x.com/i/communities/1896991026272723220" target="_blank">Ritual Community</a>, they will not be visible on the leaderboard.</p>
            <p>By clicking on any participant, you can view their works directly on the website.</p>
            <p>By clicking on any metric (for example, views), you can filter by it.</p>
            <p><b><span style="color:#90EE90;">Updated every 2 days</span></b></p>
            <p>Support us on Twitter!</p>
        </div>

        <!-- –ë–ª–æ–∫ "Follow Developer" –≤—ã–Ω–µ—Å–µ–Ω –Ω–∏–∂–µ –∏ –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ .welcome-section -->
        <div class="team-box">
            <p>Follow Developer - <a href="https://x.com/kaye_moni" target="_blank">@kaye_moni</a></p>
        </div>

        <!-- Tabs (–ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –ø–æ–¥ .team-box) -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="leaderboard">Leaderboard</button>
            <button class="tab-btn" data-tab="analytics">Analytics</button>
        </div>

        <!-- wrapper for leaderboard content so we can toggle visibility -->
        <div id="leaderboard-wrapper" class="tab-content active">
            
            <!-- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="stats">
                <div class="stat-box" id="total-posts">Total Posts: 0</div>
                <div class="stat-box" id="total-users">Total Users: 0</div>
                <div class="stat-box" id="total-views">Total Views: 0</div>
            </div>

            <!-- üîç –ü–æ–∏—Å–∫ -->
            <div class="search-box">
                <input type="text" id="search" placeholder="Search user...">
            </div>

            <!-- –§–∏–ª—å—Ç—Ä –ø–æ –≤—Ä–µ–º–µ–Ω–∏ -->
            <div class="time-filter">
                <label for="time-select">Filter by time:</label>
                <select id="time-select">
                    <option value="7">Last 7 days</option>
                    <option value="14">Last 14 days</option>
                    <option value="30">Last 30 days</option>
                    <option value="all" selected>All time</option>
                </select>
            </div>

            <!-- –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ -->
            <table id="leaderboard">
                <thead>
                    <tr>
                        <th id="name-header">User</th>
                        <th id="posts-header">Posts <span class="sort-arrow">‚ñ≤</span></th>
                        <th id="likes-header">Likes <span class="sort-arrow"></span></th>
                        <th id="retweets-header">Retweets <span class="sort-arrow"></span></th>
                        <th id="comments-header">Comments <span class="sort-arrow"></span></th>
                        <th id="views-col-header">Views <span class="sort-arrow"></span></th>
                    </tr>
                </thead>
                <tbody id="leaderboard-body"></tbody>
            </table>

            <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
            <div class="pagination">
                <button id="prev-page">Previous</button>
                <span id="page-info"></span>
                <button id="next-page">Next</button>
            </div>

            <!-- –¢–≤–∏—Ç—ã –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <div id="tweets-container" style="margin-top: 20px;">
                <ul id="tweets-list"></ul>
            </div>
        </div>

        <!-- Analytics tab content (hidden by default) -->
        <div id="tab-analytics" class="tab-content" style="display:none; text-align:left;">
            <h2>Analytics</h2>

            <!-- Time filter for analytics -->
            <div class="analytics-time-filter" style="display:flex; gap:10px; align-items:center; margin-bottom:18px; background: rgba(255,255,255,0.02); padding:12px; border-radius:12px;">
                <label for="analytics-time-select" style="font-weight:600; color:#a9ddd3; white-space:nowrap;">Filter by time:</label>
                <select id="analytics-time-select" style="flex:1; max-width:180px;">
                    <option value="all">All time</option>
                    <option value="30">Last 30 days</option>
                    <option value="14">Last 14 days</option>
                    <option value="7">Last 7 days</option>
                </select>
            </div>

            <!-- Nested tabs for analytics sections -->
            <div class="analytics-nested-tabs">
                <button class="analytics-tab-btn active" data-analytics-tab="averages">Avg metrics</button>
                <button class="analytics-tab-btn" data-analytics-tab="authors">Top 10 authors</button>
                <button class="analytics-tab-btn" data-analytics-tab="posts">Top 10 posts</button>
            </div>

            <!-- 1) Average metrics per user -->
            <section class="analytics-nested-content active" id="analytics-averages-section" data-analytics-section="averages">
                <div class="analytics-block" id="analytics-averages">
                    <h3>Average metrics per user</h3>
                    <div class="analytics-row" style="display:flex; gap:12px; flex-wrap:wrap;">
                        <div class="stat-box" id="avg-posts">Avg Posts: -</div>
                        <div class="stat-box" id="avg-likes">Avg Likes: -</div>
                        <div class="stat-box" id="avg-views">Avg Views: -</div>
                    </div>
                    <!-- Chart: tweets per day -->
                    <div style="margin-top:16px;">
                        <canvas id="analytics-chart" height="120"></canvas>
                    </div>
                </div>
            </section>

            <!-- 2) Top 10 authors with filter -->
            <section class="analytics-nested-content" id="analytics-authors-section" data-analytics-section="authors">
                <div class="analytics-block" id="analytics-top-authors-block">
                    <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
                        <h3 style="margin:0;">Top 10 authors</h3>
                        <div style="display:flex; gap:8px; align-items:center;">
                            <label for="author-metric-select" style="font-weight:600; color:#a9ddd3;">Sort by:</label>
                            <select id="author-metric-select">
                                <option value="posts">Posts</option>
                                <option value="likes">Likes</option>
                                <option value="views">Views</option>
                            </select>
                        </div>
                    </div>
                    <ol id="top-authors-list" style="margin-top:12px;"></ol>
                </div>
            </section>

            <!-- 3) Top 10 posts with filter -->
            <section class="analytics-nested-content" id="analytics-posts-section" data-analytics-section="posts">
                <div class="analytics-block" id="analytics-top-posts-block">
                    <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
                        <h3 style="margin:0;">Top 10 posts</h3>
                        <div style="display:flex; gap:8px; align-items:center;">
                            <label for="post-metric-select" style="font-weight:600; color:#a9ddd3;">Sort by:</label>
                            <select id="post-metric-select">
                                <option value="likes">Likes</option>
                                <option value="views">Views</option>
                            </select>
                        </div>
                    </div>
                    <ol id="top-posts-list" style="margin-top:12px;"></ol>
                </div>
            </section>
        </div>
    </div>

    <!-- Chart.js CDN for analytics charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>
